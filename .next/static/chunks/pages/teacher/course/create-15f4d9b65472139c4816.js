(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7057],{4184:function(e,r){var t;!function(){"use strict";var s={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var a=typeof t;if("string"===a||"number"===a)e.push(t);else if(Array.isArray(t)&&t.length){var o=n.apply(null,t);o&&e.push(o)}else if("object"===a)for(var i in t)s.call(t,i)&&t[i]&&e.push(i)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(t=function(){return n}.apply(r,[]))||(e.exports=t)}()},7251:function(e,r,t){"use strict";var s=t(5893),n=(t(7294),t(1664));r.Z=function(e){var r=e.pageTitle,t=e.homePageUrl,a=e.homePageText,o=e.activePageText;return(0,s.jsxs)("div",{className:"page-title-area",children:[(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"page-title-content",children:[(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)(n.default,{href:t,children:(0,s.jsx)("a",{children:a})})}),(0,s.jsx)("li",{className:"active",children:o})]}),(0,s.jsx)("h2",{children:r})]})}),(0,s.jsx)("div",{className:"shape9",children:(0,s.jsx)("img",{src:"/images/shape8.svg",alt:"image"})})]})}},9559:function(e,r,t){"use strict";t.r(r);var s=t(5893),n=t(7757),a=t.n(n),o=t(5861),i=t(4942),c=t(5982),l=t(7294),u=t(2286),p=t(9669),d=t.n(p),h=t(6955),m=t(8279),v=t(1163),f=t(4264),x=t(3800),j=t(7251),g=t(1339);function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var y={title:"",overview:"",price:0,profilePhoto:"",published:!0,coverPhoto:"",course_preview_img:"",course_preview_video:"",duration:"",lessons:"",category:""};r.default=function(){var e=(0,u.parseCookies)().token,r=(0,v.useRouter)(),t=l.useState(y),n=(0,c.Z)(t,2),p=n[0],w=n[1],N=l.useState(""),_=(0,c.Z)(N,2),C=_[0],P=_[1],O=l.useState(""),Z=(0,c.Z)(O,2),E=Z[0],k=Z[1],T=l.useState(""),M=(0,c.Z)(T,2),z=M[0],S=M[1],R=l.useState(!1),U=(0,c.Z)(R,2),B=U[0],L=U[1],D=l.useState(!1),A=(0,c.Z)(D,2),F=A[0],I=A[1],V=l.useState(!0),$=(0,c.Z)(V,2),q=$[0],W=$[1],X=l.useState(),H=(0,c.Z)(X,2),K=H[0],G=H[1];l.useEffect((function(){var e=Object.values(p).every((function(e){return Boolean(e)}));W(!e)}),[p]);var J=function(e){var r=e.target,t=r.name,s=r.value,n=r.files;if("profilePhoto"===t){if(n[0].size/1024/1024>2)return addToast("The profile photo size greater than 2 MB. Make sure less than 2 MB.",{appearance:"error"}),void(e.target.value=null);w((function(e){return b(b({},e),{},{profilePhoto:n[0]})})),P(window.URL.createObjectURL(n[0]))}else if("coverPhoto"===t){if(n[0].size/1024/1024>2)return addToast("The cover photo size greater than 2 MB. Make sure less than 2 MB.",{appearance:"error"}),void(e.target.value=null);w((function(e){return b(b({},e),{},{coverPhoto:n[0]})})),k(window.URL.createObjectURL(n[0]))}else if("course_preview_img"===t){if(n[0].size/1024/1024>2)return addToast("The course preview omage size greater than 2 MB. Make sure less than 2 MB.",{appearance:"error"}),void(e.target.value=null);w((function(e){return b(b({},e),{},{course_preview_img:n[0]})})),S(window.URL.createObjectURL(n[0]))}else w((function(e){return b(b({},e),{},(0,i.Z)({},t,s))}))},Q=function(){var e=(0,o.Z)(a().mark((function e(){var r,t,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),(r=new FormData).append("file",p.profilePhoto),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),!p.profilePhoto){e.next=9;break}return e.next=8,d().post("https://api.cloudinary.com/v1_1/dwho2bgom",r);case 8:t=e.sent;case 9:return s=t.data.url,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,o.Z)(a().mark((function e(){var r,t,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),(r=new FormData).append("file",p.coverPhoto),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),!p.coverPhoto){e.next=9;break}return e.next=8,d().post("https://api.cloudinary.com/v1_1/dwho2bgom",r);case 8:t=e.sent;case 9:return s=t.data.url,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,o.Z)(a().mark((function e(){var r,t,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),(r=new FormData).append("file",p.course_preview_img),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),!p.course_preview_img){e.next=9;break}return e.next=8,d().post("https://api.cloudinary.com/v1_1/dwho2bgom",r);case 8:t=e.sent;case 9:return s=t.data.url,L(!1),I(!0),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var t=(0,o.Z)(a().mark((function t(s){var n,o,i,c,l,u,h,v,j,g,b,N,_,C;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),t.prev=1,n="",o="",i="",!(p.profilePhoto&&p.coverPhoto&&p.course_preview_img)){t.next=18;break}return t.next=8,Q();case 8:return n=t.sent,t.next=11,Y();case 11:return o=t.sent,t.next=14,ee();case 14:i=t.sent,n=n.replace(/^http:\/\//i,"https://"),o=o.replace(/^http:\/\//i,"https://"),i=i.replace(/^http:\/\//i,"https://");case 18:return c="".concat(f.Z,"/api/v1/courses/course/new"),l=p.title,u=p.overview,h=p.price,v=p.published,j=p.duration,g=p.lessons,b=p.category,N=p.course_preview_video,_={title:l,overview:u,price:h,published:v,duration:j,lessons:g,category:b,profile:n,cover:o,preview:i,course_preview_video:N},t.next=23,d().post(c,_,{headers:{Authorization:e}});case 23:C=t.sent,I(!1),w(y),P(""),k(""),S(""),m.ZP.success(C.data),r.replace("/teacher/course/upload-course-video"),t.next=37;break;case 33:t.prev=33,t.t0=t.catch(1),(0,x.Z)(t.t0,G),m.ZP.error(K);case 37:return t.prev=37,I(!1),t.finish(37);case 40:case"end":return t.stop()}}),t,null,[[1,33,37,40]])})));return function(e){return t.apply(this,arguments)}}();return(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(j.Z,{pageTitle:"Teacher Course Create",homePageUrl:"/",homePageText:"Home",activePageText:"Teacher Course Create"}),(0,s.jsx)("div",{className:"ptb-100",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-md-4 col-lg-4",children:(0,s.jsx)("div",{className:"td-sidebar",children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)(g.Z,{href:"/teacher/courses",activeClassName:"active",children:(0,s.jsx)("a",{children:"My Courses"})})}),(0,s.jsx)("li",{children:(0,s.jsx)(g.Z,{href:"/teacher/course/create",activeClassName:"active",children:(0,s.jsx)("a",{children:"Create A Course"})})}),(0,s.jsx)("li",{children:(0,s.jsx)(g.Z,{href:"/teacher/courses/course-edit",activeClassName:"active",children:(0,s.jsx)("a",{children:"Edit My Course"})})}),(0,s.jsx)("li",{children:(0,s.jsx)(g.Z,{href:"/teacher/course/upload-course-video",activeClassName:"active",children:(0,s.jsx)("a",{children:"Upload Course Video"})})})]})})}),(0,s.jsx)("div",{className:"col-md-8 col-lg-8",children:(0,s.jsxs)("div",{className:"border-box",children:[B&&(0,s.jsx)("h3",{className:"loading-spinner",children:(0,s.jsx)("div",{className:"d-table",children:(0,s.jsxs)("div",{className:"d-table-cell",children:[(0,s.jsx)(h.Z,{color:"primary"})," Image Uploading...."]})})}),F&&(0,s.jsx)("h3",{className:"loading-spinner",children:(0,s.jsx)("div",{className:"d-table",children:(0,s.jsxs)("div",{className:"d-table-cell",children:[(0,s.jsx)(h.Z,{color:"success"})," Wait...."]})})}),(0,s.jsxs)("form",{onSubmit:re,children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Course Title"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter course title",className:"form-control",name:"title",value:p.title,onChange:J})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Course Overview"}),(0,s.jsx)("textarea",{type:"text",placeholder:"Enter course overview",className:"form-control",name:"overview",rows:"10",value:p.overview,onChange:J})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Course Price"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter course price",className:"form-control",name:"price",value:p.price,onChange:J})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Course Lessons"}),(0,s.jsx)("input",{type:"text",placeholder:"30 Lessons",className:"form-control",name:"lessons",value:p.lessons,onChange:J})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Course Duration (Whole numbers of hours & minutes)"}),(0,s.jsx)("input",{type:"text",placeholder:"10 hours 30 minutes",className:"form-control",name:"duration",value:p.duration,onChange:J})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Categories"}),(0,s.jsx)("input",{type:"text",placeholder:"React, Ruby, Rails",className:"form-control",name:"category",value:p.category,onChange:J})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{children:["Course Profile (",(0,s.jsx)("i",{children:"Image less than 2 MB & size 750x500"}),")"]}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{type:"file",name:"profilePhoto",accept:"image/*",onChange:J}),(0,s.jsx)("br",{}),(0,s.jsx)("img",{src:C,className:"mxw-200 mt-20"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{children:["Course Cover Photo (",(0,s.jsx)("i",{children:"Image less than 2 MB & size 1920x500"}),")"]}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{type:"file",name:"coverPhoto",accept:"image/*",onChange:J}),(0,s.jsx)("br",{}),(0,s.jsx)("img",{src:E,className:"mxw-200 mt-20"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Course Preview Video URL"}),(0,s.jsx)("input",{type:"text",placeholder:"https://www.youtube.com/watch?v=Ke90Tje7VS0",className:"form-control",name:"course_preview_video",value:p.course_preview_video,onChange:J})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{children:["Course Preview Image (",(0,s.jsx)("i",{children:"Image less than 2 MB & size 750x500"}),")"]}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{type:"file",name:"course_preview_img",accept:"image/*",onChange:J}),(0,s.jsx)("br",{}),(0,s.jsx)("img",{src:z,className:"mxw-200 mt-20"})]}),(0,s.jsxs)("button",{className:"default-btn",disabled:B||q||F,type:"submit",children:[(0,s.jsx)("i",{className:"flaticon-right-chevron"}),"Create",B||F?(0,s.jsx)(h.Z,{color:"success"}):"",(0,s.jsx)("span",{})]})]})]})})]})})})]})}},3800:function(e,r){"use strict";r.Z=function(e,r){var t;e.response?(t=e.response.data,e.response.data.error&&(t=e.response.data.error.message)):e.request&&(t=e.request),r(t)}},5671:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/teacher/course/create",function(){return t(9559)}])},6955:function(e,r,t){"use strict";var s=t(7462),n=t(3366),a=t(7294),o=t(5697),i=t.n(o),c=t(4184),l=t.n(c),u=t(3663),p={tag:u.iC,type:i().string,size:i().string,color:i().string,className:i().string,cssModule:i().object,children:i().string},d=function(e){var r=e.className,t=e.cssModule,o=e.type,i=e.size,c=e.color,p=e.children,d=e.tag,h=(0,n.Z)(e,["className","cssModule","type","size","color","children","tag"]),m=(0,u.mx)(l()(r,!!i&&"spinner-"+o+"-"+i,"spinner-"+o,!!c&&"text-"+c),t);return a.createElement(d,(0,s.Z)({role:"status"},h,{className:m}),p&&a.createElement("span",{className:(0,u.mx)("sr-only",t)},p))};d.propTypes=p,d.defaultProps={tag:"div",type:"border",children:"Loading..."},r.Z=d},3663:function(e,r,t){"use strict";t.d(r,{mx:function(){return o},CE:function(){return i},ei:function(){return c},iC:function(){return u},wF:function(){return p},rb:function(){return d}});var s,n=t(5697),a=t.n(n);function o(e,r){return void 0===e&&(e=""),void 0===r&&(r=s),r?e.split(" ").map((function(e){return r[e]||e})).join(" "):e}function i(e,r){var t={};return Object.keys(e).forEach((function(s){-1===r.indexOf(s)&&(t[s]=e[s])})),t}function c(e,r){for(var t,s=Array.isArray(r)?r:[r],n=s.length,a={};n>0;)a[t=s[n-=1]]=e[t];return a}var l="object"===typeof window&&window.Element||function(){};a().oneOfType([a().string,a().func,function(e,r,t){if(!(e[r]instanceof l))return new Error("Invalid prop `"+r+"` supplied to `"+t+"`. Expected prop to be an instance of Element. Validation failed.")},a().shape({current:a().any})]);var u=a().oneOfType([a().func,a().string,a().shape({$$typeof:a().symbol,render:a().func}),a().arrayOf(a().oneOfType([a().func,a().string,a().shape({$$typeof:a().symbol,render:a().func})]))]),p={Fade:150,Collapse:350,Modal:300,Carousel:600},d=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"];"undefined"===typeof window||!window.document||window.document.createElement}},function(e){e.O(0,[9774,2888,179],(function(){return r=5671,e(e.s=r);var r}));var r=e.O();_N_E=r}]);